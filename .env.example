# FileFlow Environment Configuration Example
# Copy this file to .env and modify values for your environment

#-----------------------------------------------
# Basic Application Settings
#-----------------------------------------------
SERVER_PORT=8080
# Choose between 'dev' for development or 'prod' for production
SPRING_PROFILES_ACTIVE=dev

#-----------------------------------------------
# Database Configuration
#-----------------------------------------------
# For development:
MYSQL_HOST=localhost
# For Docker:
#MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_DATABASE=fileflow
MYSQL_USER=fileflow
MYSQL_PASSWORD=fileflow
MYSQL_ROOT_PASSWORD=fileflow

#-----------------------------------------------
# Connection Pool Settings (Production)
#-----------------------------------------------
HIKARI_MAX_POOL_SIZE=10
HIKARI_MIN_IDLE=5
HIKARI_IDLE_TIMEOUT=30000
HIKARI_CONNECTION_TIMEOUT=30000
HIKARI_MAX_LIFETIME=1800000

#-----------------------------------------------
# Authentication
#-----------------------------------------------
# JWT Configuration - Use a strong secret key in production!
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# Firebase Configuration
FIREBASE_ENABLED=false
# For development:
FIREBASE_CONFIG_FILE=classpath:firebase-service-account.json
# For production:
#FIREBASE_CONFIG_FILE=/app/config/firebase-service-account.json

#-----------------------------------------------
# Storage Configuration
#-----------------------------------------------
# Choose 'local' for development, 'minio' for production
STORAGE_STRATEGY=local
# For development:
STORAGE_LOCATION=fileflow-storage
# For production:
#STORAGE_LOCATION=/data/fileflow-storage
STORAGE_MAX_FILE_SIZE=100MB
STORAGE_CHUNK_SIZE=5MB
STORAGE_TRASH_RETENTION_DAYS=30
STORAGE_MAX_VERSIONS=10
STORAGE_CHUNK_EXPIRY=60
STORAGE_DEDUPLICATION=true
STORAGE_GENERATE_PREVIEWS=true
STORAGE_GENERATE_THUMBNAILS=true

#-----------------------------------------------
# MinIO Configuration
#-----------------------------------------------
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
# For development:
MINIO_ENDPOINT=http://localhost:9000
# For Docker:
#MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=fileflow

#-----------------------------------------------
# Elasticsearch Configuration
#-----------------------------------------------
# For development:
ELASTICSEARCH_HOST=localhost
# For Docker:
#ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elasticadmin
ELASTICSEARCH_PASSWORD=elasticadmin
ELASTICSEARCH_SCHEME=http
ELASTICSEARCH_SSL_VERIFY=false
ELASTICSEARCH_CONNECTION_TIMEOUT=5000
ELASTICSEARCH_SOCKET_TIMEOUT=60000
ELASTIC_SECURITY_ENABLED=false

#-----------------------------------------------
# Redis Configuration
#-----------------------------------------------
# For development:
REDIS_HOST=localhost
# For Docker:
#REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=fileflow
# Choose 'simple' for development, 'redis' for production
CACHE_TYPE=simple

#-----------------------------------------------
# Mail Configuration
#-----------------------------------------------
# For development (optional - disable in app-dev.properties):
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_SMTP_AUTH=true
MAIL_SMTP_STARTTLS=true

#-----------------------------------------------
# File Upload Settings
#-----------------------------------------------
MAX_FILE_UPLOAD_SIZE=100MB
MAX_REQUEST_SIZE=100MB

#-----------------------------------------------
# Search Settings
#-----------------------------------------------
SEARCH_MAX_RESULTS=1000
SEARCH_FUZZY_SEARCH=true
SEARCH_HIGHLIGHT_RESULTS=true
SEARCH_AUTO_INDEX_FILES=true

#-----------------------------------------------
# Scheduled Tasks (cron expressions)
#-----------------------------------------------
TRASH_CLEANUP_CRON=0 0 2 * * ?
EXPIRED_SHARES_CRON=0 0 3 * * ?
QUOTA_CHECK_CRON=0 0 1 * * 0

#-----------------------------------------------
# Password Policy Settings
#-----------------------------------------------
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_SPECIAL=true

#-----------------------------------------------
# Logging Configuration
#-----------------------------------------------
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_SPRING_WEB=INFO
LOG_LEVEL_SPRING_SECURITY=INFO
# Use DEBUG in development, INFO in production
LOG_LEVEL_FILEFLOW=DEBUG
LOG_LEVEL_HIBERNATE_SQL=DEBUG
LOG_LEVEL_HIBERNATE_BINDER=TRACE
# For development:
LOG_FILE_NAME=logs/fileflow.log
# For production:
#LOG_FILE_NAME=/app/logs/fileflow.log

#-----------------------------------------------
# Actuator & Monitoring
#-----------------------------------------------
# For development - use * to expose all endpoints
ACTUATOR_ENDPOINTS=health,info,metrics

#-----------------------------------------------
# API Documentation
#-----------------------------------------------
# Enable in development, disable in production
SWAGGER_ENABLED=true

#-----------------------------------------------
# Production SSL Configuration (if needed)
#-----------------------------------------------
SSL_ENABLED=false
SSL_KEYSTORE_PATH=
SSL_KEYSTORE_PASSWORD=
SSL_KEYSTORE_TYPE=PKCS12
SSL_KEY_ALIAS=fileflow

#-----------------------------------------------
# Security Settings (Production)
#-----------------------------------------------
COOKIE_SECURE=false

#-----------------------------------------------
# Rate Limiting (Production)
#-----------------------------------------------
RATE_LIMITING_ENABLED=false
RATE_LIMITING_LIMIT=100
RATE_LIMITING_DURATION=3600

#-----------------------------------------------
# Development Helpers
#-----------------------------------------------
H2_CONSOLE_ENABLED=false

#-----------------------------------------------
# Async Task Configuration (Production)
#-----------------------------------------------
TASK_POOL_CORE_SIZE=2
TASK_POOL_MAX_SIZE=10
TASK_POOL_QUEUE_CAPACITY=100